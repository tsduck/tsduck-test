
Monitor bitrate for TS or a given PID

Usage: tsp -P bitrate_monitor [options]

Options:

  -a 'command'
  --alarm-command 'command'
      Command to run when the bitrate goes either out of range or back to
      normal. The command receives six additional parameters:

      1. A human-readable alarm message.
      2. Either "ts" or the decimal integer value of the PID to monitor.
      3. Bitrate alarm state, one of "lower", "greater", "normal".
      4. Current bitrate in b/s (decimal integer).
      5. Minimum bitrate in b/s (decimal integer).
      6. Maximum bitrate in b/s (decimal integer).

  --help
      Display this help text.

  --max value
      Set maximum allowed value for bitrate (bits/s). Default: 4,294,967,295
      b/s.
      The value must be a 64-bit floating-point value.

  --min value
      Set minimum allowed value for bitrate (bits/s). Default: 10 b/s.
      The value must be a 64-bit floating-point value.

  --only-label label1[-label2]
      Invoke this plugin only for packets with any of the specified labels.
      Other packets are transparently passed to the next plugin, without going
      through this one. Several --only-label options may be specified. This is
      a generic option which is defined in all packet processing plugins.

  -p value
  --periodic-bitrate value
      Always report bitrate at the specific intervals in seconds, even if the
      bitrate is in range.

  --periodic-command value
      Run the --alarm-command at the specific intervals in seconds, even if the
      bitrate is in range. With this option, the alarm command is run on state
      change and at periodic intervals.

  --pid value
      Specifies the PID to monitor. By default, when no --pid is specified,
      monitor the bitrate of the full TS.

  --set-label-above label1[-label2]
      Set the specified labels on all packets while the bitrate is above
      normal. Several --set-label-above options may be specified.

  --set-label-below label1[-label2]
      Set the specified labels on all packets while the bitrate is below
      normal. Several --set-label-below options may be specified.

  --set-label-go-above label1[-label2]
      Set the specified labels on one packet when the bitrate goes above
      normal. Several --set-label-go-above options may be specified.

  --set-label-go-below label1[-label2]
      Set the specified labels on one packet when the bitrate goes below
      normal. Several --set-label-go-below options may be specified.

  --set-label-go-normal label1[-label2]
      Set the specified labels on one packet when the bitrate goes back to
      normal (within range). Several --set-label-go-normal options may be
      specified.

  --set-label-normal label1[-label2]
      Set the specified labels on all packets while the bitrate is normal
      (within range). Several --set-label-normal options may be specified.

  --tag 'string'
      Message tag to be displayed in alarms. Useful when the plugin is used
      several times in the same process.

  -t value
  --time-interval value
      Time interval (in seconds) used to compute the bitrate. Default: 5 s.

